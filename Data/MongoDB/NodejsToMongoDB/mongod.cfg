# mongod.conf

# for documentation of all options, see:
#   http://docs.mongodb.org/manual/reference/configuration-options/

systemLog:  # 日志模塊相關參數，where to write logging data.
    verbosity: 0  # <int>，日志級別，預設為 0 值，包含 "info" 信息，當取大於 0 的值，例如取 1 - 5 值時，均會包含調試（debug）信息;
    quiet: false  # <bool>，安静輸出日志，取 true 值時將會減少日志的輸出量;
    traceAllExceptions: true  # <bool>，打印調試異常詳細信息;
    # syslogFacility: user  # <string>，用於登陸時信息到 syslog Facility 水平，指定的值必須由操作系統實現支持 syslog。
    path: "C:/Database-to-Excel-VBA/MongoDB/NodejsToMongoDB/log/mongod.log"  # <string>，日志文檔保存路徑;
    # path: "C:/Database-to-Excel-VBA/MongoDB/Server/8.2/log/mongod.log"  # <string>，日志文檔保存路徑;
    logAppend: true  # <bool>，取 true 值追加寫入已有日志文檔，取 false 值新建日志文檔;
    logRotate: rename  # rename|reopen，日志輪詢，防止一個日志文檔特別大。預設為 rename 值，當取 rename 值時，表示重命名日志文檔；當取 reopen 值時（前提為條目 logAppend: true），表示使用 Linux 系統日志 rotate 特性。
    destination: "file"  # <string>，日志輸出目的地，可取 "file" 或 "syslog" 值，不指定會輸出到標準輸出;
    timeStampFormat: "iso8601-local"  # <string>，日志時間戳格式，可取 "ctime" 或 "iso869-utc" 或 "iso8601-local" 值;
    # component:  # 為不同的組件指定各自的日志信息級別;
    #     accessControl:
    #         verbosity: 0  # <int>
    #     command:
    #         verbosity: 0  # <int>
    #     # COMMENT additional component verbosity settings omitted for brevity;
    #     storage:
    #         verbosity: 0
    #         journal:
    #             verbosity: 0  # <int>
    #     write:
    #         verbosity: 0

storage:  # 存儲引擎相關參數，Where and how to store data.
    dbPath: "C:/Database-to-Excel-VBA/MongoDB/data"  # <string>，mongod 進程數據存儲目錄，此配置僅對 mongod 進程有效;
    # dbPath: "C:/Database-to-Excel-VBA/MongoDB/Server/8.2/data"  # <string>，mongod 進程數據存儲目錄，此配置僅對 mongod 進程有效;
    # indexBuildRetry: false  # <bool>，當構建索引時，如果 mongod 進程意外關閉時，再次啓動後是否重新構建索引，預設為 true 值;
    # repairPath: "C:/Database-to-Excel-VBA/MongoDB/data/_tmp"  # <string>，配合 -repair 啓動命令參數，在 repair 期間使用此目錄存儲臨時數據，repair 結束後，此目錄下數據將被刪除;
    # journal:
    #     enabled: true  # <boolean>，是否開啓 journal 日志持久存儲，journal 日志用來做數據故障恢復，64 位軟件中預設為 true 值，32 位軟件預設 false 值;
    #     commitIntervalMs: 100  # <num>，表示 mongod 日志刷新間隔時長，取值範圍：1 - 500 毫秒，預設為 100 毫秒;
    directoryPerDB: true  # <bool>，是否將不同的數據存儲在不同的目錄中，需要為 dbPath: 條目的子目錄;
    # syncPeriodSecs: 60  # <int>，mongod 使用 fsync 操作將數據 flush 到磁盤的時間間隔，預設為 60 秒;
    # engine: "wiredTiger"  # <string>，mongodb 數據庫的存儲引擎，版本 3.2 之前預設為 "mmapv1" 值，版本 3.2 之後預設為 "wiredTiger" 值;
    # wiredTiger:  # 存儲引擎 wiredTiger 的配置;
    #     engineConfig:
    #         cacheSizeGB: 0.5  # <number>，使用所有數據的最大緩存大小，wiredTiger 緩存工作集數據的内存大小，單位 GB;
    #         statisticslogDelaySecs: 0  # 預設值為 0，表示 wiredTiger 不做日志統計;
    #         journalCompressor: "snappy"  # <string>，journal 日志的壓縮算法，可取 "none" 或 "snappy"（默认）或 "zlib" 值;
    #         directoryForIndexes: false  # <bool>，是否將索引和 collection 數據分別存儲在 dbPath 單獨的目錄中。
    #     collectionConfig:
    #         blockCompressor: "snappy"  # <string>，表格 collection 數據壓縮算法，可取 "none" 或 "snappy" 或 "zlib" 值;
    #     indexConfig:
    #         prefixCompression: true  # <bool>，是否對索引數據使用前綴壓縮，可有效減少索引數據的内存使用量;
    # mmapv1:  # 存儲引擎 mmapv1 的配置;
    #     preallocDataFiles: true
    #     nsSize: 16
    #     quota:
    #         enforced: false
    #         maxFilesPerDB: 8
    #     smallFiles: false
    #     journal:
    #         debugFlags: <int>
    #         commitIntervalMs: 100  # <num>，表示 mongod 日志刷新間隔時長，取值範圍：1 - 500 毫秒，預設為 100 毫秒;

processManagement:  # 進程相關參數;
#     fork: false  # <boolean>，是否以守護進程在後臺運行，預設為 false 值;
    pidFilePath: "C:/Database-to-Excel-VBA/MongoDB/NodejsToMongoDB/mongod.pid"  # <string>，將 mongod 進程 ID 寫入指定文檔，預設不會創建;
    # pidFilePath: "C:/Database-to-Excel-VBA/MongoDB/Server/8.2/bin/mongod.pid"  # <string>，將 mongod 進程 ID 寫入指定文檔，預設不會創建;
#     windowsService:  # 針對 windows 系統的配置;
#         serviceName: <string>
#         displayName: <string>
#         serviceUser: <string>
#         servicePassword: <string>

net: # 網絡相關參數，network interfaces.
    port: 27017  # <int>，監聽埠號（端口），預設為 27017 值，如果控制臺命令行使用 --rest 參數啓動時，MongoDB 開啓的 Web 端口比服務器端口多大 1000，即 28017，可在瀏覽器中通過訪問 http://localhost:28017/ 加載頁面;
    bindIp: "::1"  # <string>，綁定 IP 地址，可取 "::1" 值，表示只綁定本機可登錄，如果取 "::0" 值，表示綁定所有接口局域網内所有主機皆可登錄;
    # bindIp: "127.0.0.1"  # <string>，綁定 IP 地址，可取 "127.0.0.1" 值，表示只綁定本機可登錄，如果取 "0.0.0.0" 值，表示綁定所有接口局域網内所有主機皆可登錄;
    maxIncomingConnections: 65536  # <int>，進程允許的最大連接數目，上限是系統閾值（ulimit）;
    wireObjectCheck: true  # <boolean>，當客戶端寫入數據時，是否檢查數據結構的合規性(BSON);
    ipv6: true  # <bool>，是否支持多實例之間使用 ipv6 地址;
    # http:  # http 配置;
    #     enabled: false  # <boolean>
    #     JSONEnabled: false  # <boolean>
    #     RESTInterfaceEnabled: false  # <boolean>
    # ssl:  # ssl 配置;
    #     sslOnNormalPorts: <boolean>， deprecated since 2.6;
    #     mode: <string>
    #     PEMKeyFile: <string>
    #     PEMKeyPassword: <string>
    #     clusterFile: <string>
    #     clusterPassword: <string>
    #     CAFile: <string>
    #     CRLFile: <string>
    #     allowConnectionsWithoutCertificates: <boolean>
    #     allowInvalidCertificates: <boolean>
    #     allowInvalidHostnames: <boolean>
    #     disabledProtocols: <string>
    #     FIPSMode: <boolean>
    # compression:
    #     compressors: <string>

security:  # 安全相關參數;
    authorization: "disabled"  # <string>，"enabled" 表示開啓 MondoDB 數據庫服務器端程序的驗證鏈接功能，開啓後，用戶端 mongo.exe 程序請求鏈接時，需要輸入賬號和密碼才能正常鏈接，取 "disabled" 參數值關閉驗證鏈接功能;
#    keyFile: "/path/mongo.key"  # 對於副本集模式，指定副本集節點之間身份驗證密匙文檔的路徑;
#    clusterAuthMode: keyFile  # <string>，集群 members 之間的認證模式;
#    transitionToAuth: <boolean>
#    javascriptEnabled: <boolean>，是否允許執行 JavaScript 脚本;
#    redactClientLogData: <boolean>
#    sasl:
#        hostName: <string>
#        serviceName: <string>
#        saslauthdSocketPath: <string>
#    enableEncryption: <boolean>
#    encryptionCipherMode: <string>
#    encryptionKeyFile: <string>
#    kmip:
#        keyIdentifier: <string>
#        rotateMasterKey: <boolean>
#        serverName: <string>
#        port: <string>
#        clientCertificateFile: <string>
#        clientCertificatePassword: <string>
#        serverCAFile: <string>
#    ldap:
#        servers: <string>
#        bind:
#            method: <string>
#            saslMechanism: <string>
#            queryUser: <string>
#            queryPassword: <string>
#            useOSDefaults: <boolean>
#        transportSecurity: <string>
#        timeoutMS: <int>
#        userToDNMapping: <string>
#        authz:
#            queryTemplate: <string>

operationProfiling:  # 性能分析器相關參數;
    slowOpThresholdMs: 100  # <int>，對於發生的「慢查詢」事故開啓記錄的時間閾值，單位毫秒（預設為 100 毫秒）;
    mode: "off"  # <string>，數據庫 profiler 的級別，可取 "off"|"slowOp"|"all" 值。注意，數據庫 profiling 會影響性能，最好只在調試階段開啓，mongod 會把發生的「慢查詢」事故記錄到日志中，在生產階段可以關閉此項;

# replication:  # 主從複製(副本集）相關配置;
#     oplogSizeMB: <int>，表示 replication 操作日志的最大尺寸，單位 MB，如果太小則全量同步;
#     replSetName: cfgsvr  # <string>，副本集的名稱，副本集中所有的 mongod 實例都必須有相同的名字，在 sharding 分佈式下，不同的 sharding 應該使用不同的名字;
#     secondaryIndexPrefetch: all  # <string>，副本集中的 secondary，從 oplog 中應用變更操你做前，會先把索引加載到内存;
#     enalbeMajorityReadConcern: <boolean>，允許 readConcern 的級別為 "majority" ;

# sharding: 分片集群相關參數;
#     clusterRole: configsvr  # <string>，在 sharding 集群中的角色，可取 configsvr(27019)|shardsvr(27018) 值;
#     archiveMovedChunks: true  # <bool>，當 chunks 因爲啊「負載平衡」遷移到其它節點時，是否歸檔並保存這些 chunks 在 dbPath/movechunk 目錄下;

# setParameter:  # 自定義變量相關參數;
#     enableLocalhostAuthBypass: true  # 本地主機繞過身份驗證;
#     <parameter1>: <value1>
#     <parameter2>: <value2>

# auditLog:  # 審計相關參數;
#     destination: <string>，指定審計記錄的輸出方式，可取 syslog|console|file 值;
#     format: <string>，目標文檔輸出格式，可取 JSON 或 BSON 值;
#     path: <string>，如果輸入為文檔，那麽這裏就需要指定文檔的完整路徑和文檔名;
#     filter: <string>，過濾器，可限制審計系統記錄的操作類型;

